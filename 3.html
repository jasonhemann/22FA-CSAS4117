<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>3 --- The Game State</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Engineering</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Reason</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="fish.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Dot Game</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Game Pieces</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game State</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game State</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="2.html" title="backward to &quot;2 --- The Game Pieces&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="4.html" title="forward to &quot;4 --- The Game Tree&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._3)"></a>3 &#8212;<wbr></wbr> The Game State</h4><a name="(part._chap~3a3)"></a><p><span style="color: blue">Due <span class="strike" style="text-decoration:line-through">Tues, November 15, 2022 9:59:59pm</span> Thurs, November 17, 2022 9:59:59<span style="font-weight: bold">am</span></span></p><p><span style="font-weight: bold">Delivery</span> Place the product of this week&rsquo;s project steps into your
repo as follows:</p><ul><li><p>for the Design Task, place <span class="stt">games.md</span> in <span class="stt">Planning/</span></p></li><li><p>for the Programming Task, place <span class="stt">state.PP</span> <span style="color: purple">where <span class="stt">.PP</span> is the extension for a source file in your chosen programming language, e.g. <span class="stt">.py</span></span> in <span class="stt">Common/</span></p></li><li><p>for the Testing task, place <span class="stt">xboard</span> and <span class="stt">Tests/</span> in a
repo-level directory named <span class="stt">3</span></p></li></ul><p>You may create <span class="stt">Other/</span> directories in both <span class="stt">3</span> and <span class="stt">Fish</span>.</p><p><span style="color: blue">Programming Task</span> Design and implement a game state data representation,
including the following operations. A game state represents the current state of
a game: the state of the board, the current placements of the penguins,
knowledge about the players, and the order in which they play.</p><p>A game state representation may be used by the referee component to perform
turns and check rule-conforming behavior. A player component can use it for
planning purposes.</p><p><div class="SIntrapara">The game-state representation should come with the following pieces of
functionality:
</div><div class="SIntrapara"><ul><li><p>creating a state for a certain number of players;</p></li><li><p>place an avatar on behalf of a player;</p></li><li><p>move an existing avatar from one spot to another on behalf of the player;</p></li><li><p>determine whether any player can move an avatar; and</p></li><li><p>rendering the state graphically.</p><p>If your programming language supports pictures as values&#8212;<wbr></wbr>like say BSL and ISL
in F I&#8212;<wbr></wbr>-your method or function may return such a picture. Otherwise it
consumes a window and adds it to a window.</p></li></ul></div><div class="SIntrapara">You might need other operations to design these. Consider making those
public if you see a need for players or referees to use them.</div></p><p><span style="color: blue">Design Task</span> Both referees and (well-behaved) players will need to check
whether an action is legal according to the rules of Fish. A well-chosen data
representation will enable two different mechanisms to check rules and to plan a
player&rsquo;s next move (based on some look-ahead).</p><p>Describe a data representation for representing entire games. Roughly
speaking, a game is a tree of all potential moves in any state
reachable from a given starting point. Assume that the starting point
is a state in which all players have placed all their available
penguins.  Both the referee and the players can use this structure to
check the validity of actions or plan ahead.</p><p>Such descriptions typically mix nglish and references to the data
sub-language of your chosen programming language. Add a description of
an external interface; this may look like the wish lists from
Fundamentals I and II.  Distinguish the two parts clearly.</p><p>The memo must not exceed two pages. Less is more.</p><p><span style="color: blue">Testing Task</span> Create a test harness named <span class="stt">xboard</span>. The harness
consumes its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>.
Create three tests and place them in the specified folder.</p><p>The tests are formulated as pairs of files:
<span class="stt">&lt;n&gt;-in.json</span>, the input,
and
<span class="stt">&lt;n&gt;-out.json</span>, the expected result, for an integer <span class="stt">&lt;n&gt;</span> greater or
equal to 1.</p><p><div class="SIntrapara">Its inputs is an object with two fields:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><a name="(tech._board._posn)"></a><span style="font-style: italic">Board-Posn</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">{ </span><span class="stt">"position"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"board"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="#%28tech._board%29" class="techoutside" data-pltdoc="x"><span class="techinside">Board</span></a><span class="stt">}</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><a name="(tech._board)"></a><span style="font-style: italic">Board</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a JSON array of JSON arrays where each element is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">either 0 or a number between 1 and 5.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">The size of the board may not exceed a total of 25 spots.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION A 0 denotes a hole in the board configuration. All other</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">numbers specify the number of fish displayed on the tile.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><a name="(tech._position)"></a><span style="font-style: italic">Position</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a JSON array that contains two natural numbers:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">[board-row,board-column]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION The position uses the computer graphics coordinate system</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">meaning the Y axis points downwards. The position refers to a tile</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">with at least one fish on it.</span></p></td></tr></table></div></p><p>Its expected outputs is the number of tiles on the board that can be
reached from the specified position.</p><p><div class="SIntrapara">Since boards with hexagonal tiles are somewhat unusual, here are two examples
that graphically explain how <a href="https://www.json.org">JSON</a> board specifications are interpreted:
</div><div class="SIntrapara"><blockquote><table cellspacing="0" cellpadding="0"><tr><td><p><span class="Smaller">{"board":[[1,2,3],[4,0,5]],"position":[0,0]}</span></p></td></tr><tr><td><p><span class="Smaller"><span class="Smaller"><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_37.png" alt="image" width="400" height="100"/></span></span></p></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote><table cellspacing="0" cellpadding="0"><tr><td><p><span class="Smaller">{"board":[[1,2,3],[4,0,5],[1,1,0]],"position":[0,0]}</span></p></td></tr><tr><td><p><span class="Smaller"><span class="Smaller"><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_38.png" alt="image" width="400" height="130"/></span></span></p></td></tr></table></blockquote></div><div class="SIntrapara">Both sample inputs specify the top-most, left-most position as the one to
analyze.</div></p><p><span style="font-weight: bold">Well-formed and Valid</span> You may assume that all inputs for your test
harnesses will be well-formed JSON and valid according to the homework
descriptions. As a reminder, a well-formed <a href="#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a>
would be <span class="stt">[1001,2]</span>, but it would be invalid for the above
boards; <span class="stt">[0,1]</span> would be well-formed and valid for both of these boards.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">Beyond integration testing, we should eventually move to
<span style="font-style: italic">stress testing</span>. However, this semester our course will <span style="color: purple">not</span>
have you implement this idea.</span></span></span></p><p><span style="font-weight: bold">Pedagogy</span> Besides <span style="font-style: italic">unit tests</span>, multi-component projects also need
<span style="font-style: italic">integration tests</span>. Such tests compose several components and run tests
on the composite that exercise functions across the components. This task is a
lightweight illustration of this idea.</p><p>NOTE: Some of you may not have pruned straight lines at holes in the
board or even avatars on the board (though that is not a part of the
board data representation anyways). For the grading of <a href="2.html" data-pltdoc="x">2 &#8212;<wbr></wbr> The Game Pieces</a> this
does not make a difference. But, for this testing task, it
does.</p><p>You will have to add code to deal with the (de)serialization between
your chosen data representation and <a href="https://www.json.org">JSON</a>.</p><p>When a milestone assignment requests such test harnesses, you should
not need&#8212;<wbr></wbr>but you may have&#8212;<wbr></wbr>to modify the core functionality from
the previous milestone. Instead, it may suffice to <span class="emph">bridge</span> the
gap between the external data representation and your internal one
within the test harness. This second option tends to be better than
changing your code because you don&rsquo;t run into danger of upsetting
well-tested logic.</p><p>Like unit tests, an integration test may check properties of expected outcomes,
instead of the complete outcome.</p><p>You may wish to place unit tests into <span class="stt">Other/</span> if your
chosen programming language does not permit co-mingling tests with the
code for <span class="stt">xboard</span> within <span class="stt">3</span>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="2.html" title="backward to &quot;2 --- The Game Pieces&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="4.html" title="forward to &quot;4 --- The Game Tree&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>