<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5 --- The Strategy</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Engineering</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Reason</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="fish.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Dot Game</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Game Pieces</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game State</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.6</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="4.html" title="backward to &quot;4 --- The Game Tree&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h4><a name="(part._5)"></a>5 &#8212;<wbr></wbr> The Strategy</h4><a name="(part._chap~3a5)"></a><p><span style="font-weight: bold">Due</span> Thursday, 29 October 2020, 11:59:59pm</p><p><span style="font-weight: bold">Delivery</span> Place the product of this week&rsquo;s project steps into your
repo as follows:</p><p><div class="SIntrapara"><ul><li><p>for the Programming Task, place <span class="stt">strategy.PP</span> into a new folder: <span class="stt">Player/</span>;</p></li><li><p>for the Design Task, place <span class="stt">referee.md</span> in <span class="stt">Planning/</span></p></li><li><p>for the Testing Task, place <span class="stt">xtree</span> and <span class="stt">Tests/</span> into a repo-level directory named <span class="stt">5</span></p></li></ul></div><div class="SIntrapara">You may create <span class="stt">Other/</span> directories in both <span class="stt">5</span> and <span class="stt">Fish</span>.</div></p><p><div class="SIntrapara"><span style="color: blue">Programming Task</span> For this assignment, you are to implement a strategy
component that takes care of two decisions:
</div><div class="SIntrapara"><ul><li><p>penguin placements</p><p>It places a penguin in the next available free spot followning a zig zag pattern
that starts at the top left corner. That is, the search goes from left to right
in each row and moves down to the next row when one is filled up.</p><p>This piece of functionality may assume that the referee will set up a game board
that is large enough to accommodate all the penguins of all the players.</p></li><li><p>a choice of action for the player whose turn it is</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent"> Wikipedia has a lengthy <a href="https://en.wikipedia.org/wiki/Minimax">entry on minimax
and maximin optimizations</a>. It should not be necessary to read this
article but it provides some background and examples for those
interested in the idea.</span></span></span></p><p>If <span style="font-style: italic">N &gt; </span>0<span style="font-style: italic"></span>, it picks the action that realizes the best gain after
looking ahead <span style="font-style: italic">N</span> turns for this player in the game tree for
the current state.</p><p>The best gain after <span style="font-style: italic">N</span> turns is the highest score a player
can make after playing the specified number of turns&#8212;<wbr></wbr>assuming that all
opponents pick one of the moves that minimizes the player&rsquo;s gain.</p><p><span style="font-weight: bold">Tie Breaker</span> If several different actions can realize the same gain, the
strategy moves the penguin that has the lowest row number for the place from
which the penguin is moved and, within this row, the lowest column number. In
case this still leaves the algorithm with more than one choice, the process is
repeated for the target field to which the penguins will move. Why is this
process guaranteed to stop with a single action?</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">Even if you did not get the game tree component to work,
you can still implement this part of the strategy. It does not require
any information beyond the current game state.</span></span></span></p><p><span style="font-weight: bold">N = 0</span> If <span style="font-style: italic">N = </span>0<span style="font-style: italic"></span>, the strategy chooses, from the player&rsquo;s
penguins that can move, to move the penguin that has the lowest row
number for the place from which the penguin is moved and, within this
row, the lowest column number. If choosing that penguin leaves the
algorithm with more than one choice, the process is repeated for the
target field to which the penguins will move.</p></li></ul></div></p><p><span style="color: blue">Design Task</span> A referee manages a game of Fish for some set of
players. The software component sets up the game, runs the rounds, and shuts
down the game.</p><p>Create a design document for the referee component, including its API. It should
come with sufficient detail so that a sub-contractor in the far-away land of
Codemanistan could implement it for you.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">We originally intended this referee to be the tournament
administrator that sets up referees and players for games. See
<a href="plan.html" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a>.</span></span></span></p><p>Two pages should suffice. Less is more.</p><p><span style="color: blue">Testing Task</span> Create a test harness named <span class="stt">xtree</span> The harness consumes
its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>.  Create
three tests and place them in the specified folder.</p><p>The tests are formulated as pairs of files:
<span class="stt">&lt;n&gt;-in.json</span>, the input,
and
<span class="stt">&lt;n&gt;-out.json</span>, the expected result, for an integer <span class="stt">&lt;n&gt;</span> greater or
equal to 1.</p><p><div class="SIntrapara">Its inputs are objects with three fields:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a name="(tech._move._response._query)"></a><span style="font-style: italic">Move-Response-Query</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">{ </span><span class="stt">"state"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="4.html#%28tech._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">State</span></a><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"from"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="3.html#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"to"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="3.html#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">}</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION The object describes the current state and the move that the</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">currently active player picked. CONSTRAINT The object is invalid, if the</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">specified move is illegal in the given state.</span></p></td></tr></table></div></p><p><span style="font-weight: bold">Well-formed and Valid</span> You may assume that all inputs for your test
harnesses will be well-formed JSON and valid according to the homework
descriptions.</p><p><div class="SIntrapara">Its expected output is the action that the next player can take to get a
penguin to a place that neighbors the one that the first player just
conquered:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a name="(tech._action)"></a><span style="font-style: italic">Action</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">either</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">false</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">or</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">[ </span><a href="3.html#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt">, </span><a href="3.html#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION The array describes the opponent's move from the first</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">position to the second; if the desired kind of move isn't possible, the</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">harness delivers false.</span></p></td></tr></table></div></p><p><div class="SIntrapara">The tie breaking needs a refinement for cases when two distinct penguins
can move to the same spot:
</div><div class="SIntrapara"><blockquote><p>if more than one position satisfies the
"closeness" condition, a tie breaker algorithm picks by the top-most row of
the "from" position, the left-most column of the "from" position, the
top-most row of the "to" position, and the left-most column of the
"to" position&#8212;<wbr></wbr>in exactly this order.</p></blockquote></div></p><p>Like in <a href="4.html" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a>, the neighboring tiles are searched in the following
order: North, NorthEast, SouthEast, South, SouthWest, and NorthWest.</p><p>Can you use the query functionality from <a href="4.html" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a> to implement this evaluation
of the game tree?</p><p><span style="font-weight: bold">Pedagogy</span> Building harnesses for integration tests doesn&rsquo;t slow you
down&#8212;<wbr></wbr>it actually accelerates your progress because the goals are always
compatible with the current task and lay its foundation. Work thru the
integration testing task before tackling the programming task.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="4.html" title="backward to &quot;4 --- The Game Tree&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>