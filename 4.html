<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4 --- The Game Tree</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Engineering</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Reason</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="fish.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Dot Game</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Game Pieces</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game State</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.7</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="3.html" title="backward to &quot;3 --- The Game State&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="5.html" title="forward to &quot;5 --- The Strategy&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._4)"></a>4 &#8212;<wbr></wbr> The Game Tree</h4><a name="(part._chap~3a4)"></a><p><span style="font-weight: bold">Due</span> <span style="color: blue">Tues, 22 November 2022, 9:59:59pm</span></p><p><span style="font-weight: bold">Due (Late Deadline)</span> <span style="color: blue">Tues, 29 November 2022, 9:59:59pm</span></p><p><span style="font-weight: bold">Delivery</span> Place the product of this week&rsquo;s project steps into your
repo as follows:</p><p>(Note to class: Since Python&rsquo;s naming system is badly designed and its
convention interfere with the specified name, you Pythonistas should
substitute <span class="stt">_</span> for <span class="stt">-</span> in these file names.)</p><p><div class="SIntrapara"><ul><li><p>for the Programming Task, place <span class="stt">game-tree.PP</span> into <span class="stt">Common/</span></p></li><li><p>place <span class="stt">player-interface.PP</span> into <span class="stt">Common/</span>;</p></li><li><p>place <span class="stt">player-protocol.md</span> into <span class="stt">Planning/</span>;</p></li><li><p>for the Testing task, place <span class="stt">xstate</span> and <span class="stt">Tests/</span> into a
repo-level directory named <span class="stt">4</span></p></li></ul></div><div class="SIntrapara">You may create <span class="stt">Other/</span> directories in both <span class="stt">4</span> and <span class="stt">Fish</span>.</div></p><p><span style="color: blue">Programming Task</span> Design and implement a game tree data representation,
including the following operations. A game tree represents an entire game,
starting from some state. For each state it connects to all legal successor
states. Each transition corresponds to a legal action of the player whose turn
it is in this state.</p><p><div class="SIntrapara">The game representation should come with these pieces of functionality:
</div><div class="SIntrapara"><ul><li><p>creating a complete tree for a state to which players will not add any
more penguins;</p></li><li><p>a query facility that for a given tree node and action <span class="stt">A</span> either signals
that <span class="stt">A</span> is illegal or returns the state that would result from taking action <span class="stt">A</span>;</p></li><li><p>a query facility that for a given tree node <span class="stt">S</span> and function applies this
function to all states directly reachable from <span class="stt">S</span>.</p></li></ul></div><div class="SIntrapara">The phrase &ldquo;piece of functionality&rdquo; may not directly translate into
&ldquo;function&rdquo; or &ldquo;method&rdquo; in your chosen language.</div></p><p><span style="font-weight: bold">Pedagogy</span> Software systems often deal with large data structures that do
not fit into memory all at once. A complete game tree for Fish is an example. It
is large, too large to create all at once. Your data structure should therefore
use laziness, generators, and similar features to generate more of the tree as
needed. So this aspect of the project illustrates the idea of an active window
&ldquo;scanning&rdquo; over a large data structure.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">In our original version of this assignment, the
player would also communicate with the tournament manager. See
<a href="plan.html" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a>. You do not need to address this aspect.</span></span></span></p><p><span style="color: blue">Design Task</span> The player components must communicate with the referee.
This communication involves both function/method calls and orderings of those,
i.e., a protocol. Since outsiders will program to this interface, it must be
spelled out precisely and in detail.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">An API is a documentation of a logical interface to a code
library and its calling conventions. It is often supplemented by protocol
conventions. In the context of an API with many functions/methods, &ldquo;protocol&rdquo;
means calling sequences and dependencies among calls.</span></span></span></p><p>Write two documents: (1) the API for a player component in your chosen language
and (2) the protocol for this API.  The first document (<span class="stt">player-interface.PP</span>)
should be a module in your language enriched with the usual descriptions
(interpretations, purpose statements). The second document
(<span class="stt">player-protocol.md</span>) may use the usual mix of English, terms from your
language, and UML sequence diagrams (if desired).</p><p><span style="color: blue">Testing Task</span></p><p>Create a test harness named <span class="stt">xstate</span> The harness consumes
its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>.  Create
three tests and place them in the specified folder.</p><p>The tests are formulated as pairs of files:
<span class="stt">&lt;n&gt;-in.json</span>, the input,
and
<span class="stt">&lt;n&gt;-out.json</span>, the expected result, for an integer <span class="stt">&lt;n&gt;</span> greater or
equal to 1.</p><p><div class="SIntrapara">Its inputs are objects with two fields:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><a name="(tech._state)"></a><span style="font-style: italic">State</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">{ </span><span class="stt">"players"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="#%28tech._player%2A%29" class="techoutside" data-pltdoc="x"><span class="techinside">Player*</span></a><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"board"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="3.html#%28tech._board%29" class="techoutside" data-pltdoc="x"><span class="techinside">Board</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">}</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><a name="(tech._player*)"></a><span style="font-style: italic">Player*</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">[</span><a href="#%28tech._player%29" class="techoutside" data-pltdoc="x"><span class="techinside">Player</span></a><span class="stt">, ..., </span><a href="#%28tech._player%29" class="techoutside" data-pltdoc="x"><span class="techinside">Player</span></a><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION The array lists all players and specifies the order</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">in which they take turns.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><a name="(tech._player)"></a><span style="font-style: italic">Player</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">{ </span><span class="stt">"color"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: </span><a href="fish.html#%28tech._color%29" class="techoutside" data-pltdoc="x"><span class="techinside">Color</span></a><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"score"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: Natural,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"places"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: [</span><a href="3.html#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt">, ..., </span><a href="3.html#%28tech._position%29" class="techoutside" data-pltdoc="x"><span class="techinside">Position</span></a><span class="stt">] }</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION The color identifies a player's penguins on the board,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">the score represents how many fish the player has collected so far,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">and the last field shows the locations of the player's penguins.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">CONSTRAINT All penguins must occupy distinct tiles on the board.</span></p></td></tr></table></div></p><p><span style="font-weight: bold">Well-formed and Valid</span> You may assume that all inputs for your test
harnesses will be well-formed JSON and valid according to the homework
descriptions.</p><p>Its expected output is the effect of a silly player strategy of taking
a turn That is, it is the <a href="#%28tech._state%29" class="techoutside" data-pltdoc="x"><span class="techinside">State</span></a> that results from moving the
first player&rsquo;s first penguin one step either North, NorthEast,
SouthEast, South, SouthWest, or Northwest (in this order) from its
current position&#8212;<wbr></wbr>if possible. Otherwise the expected output is
<span class="stt">False</span>. The order in which a JSON array specifies a player&rsquo;s
penguin positions remains the same.</p><p><span style="font-weight: bold">Purpose</span> This integration test ensures that your game state
representation suffices to express complete turns. You may wish to
tackle it <span class="emph">before</span> you solve the programming task.</p><p><span style="font-weight: bold">Pedagogy</span> While the integration test harness of <a href="3.html" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game State</a> might
have looked simplistic because it is probing simple components, this
one integrates non-trivial components in an interesting way.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="3.html" title="backward to &quot;3 --- The Game State&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="5.html" title="forward to &quot;5 --- The Strategy&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>